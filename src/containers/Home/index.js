import React, {Component} from 'react';import './index.less';import {Link} from 'react-router-dom'import Search from "./SearchTop/index";import HomeSlider from "./Swiper/index";import Scroll from "./Scroll/index";import Nav from "./Nav/index";import VipOnly from "./VipOnly/index";import NewProduct from "./NewProduct/index";import Recommend from "./Recommend/index";import CountDown from "./CountDown/index";import {connect} from 'react-redux';import actions from '../../store/actions/home';import {upLoadMore, downRefresh} from '../../utils'import {TransitionGroup, CSSTransition} from 'react-transition-group';import Time from "./Time/index";import {getRecommends} from "../../api/home";class Home extends Component {    constructor() {        super();        this.state = {isShow: false}    }    componentDidMount() {        this.props.fetchSliders();        this.props.getRecommendDatas();        //upLoadMore(document.body, this.props.getRecommendDatas);        downRefresh(this.content, this.props.refreshRecommendDatas);    }    change = () => {        let distance = document.getElementById('recommend').offsetTop;        window.scrollTo(0, distance);        setTimeout(() => {            this.setState({isShow: !this.state.isShow}, () => {                console.log(this.state.isShow);            }, 1000);        })    }    backTop = () => {        window.scrollTo(0, 0);        setTimeout(() => {            this.setState({isShow: !this.state.isShow}, () => {                console.log(this.state.isShow);            }, 1000);        })    }    render() {        let homeDatas = this.props.homeDatas;        let homeCarousel = homeDatas ? homeDatas.homeCarousel : [];        let homeNavigation = homeDatas ? homeDatas.homeNavigation : [];        let privileges = homeDatas ? homeDatas.privileges : [];        let spike = homeDatas ? homeDatas.spike : [];        let recommend = this.props.recommend ? this.props.recommend : [];        return (            <div className='home'>                <div ref={content => this.content = content} className='main-content'>                    <Search/>                    <div className="laod-gif"></div>                    <HomeSlider sliders={homeCarousel}/>                    <Nav navImages={homeNavigation}/>                    <img style={{width: "100%"}} src="../../../mock/img/home/icon/bg02.jpg" alt=""/>                    <Time/>                    <CountDown spike={spike}/>                    <Scroll/>                    <VipOnly privileges={privileges}/>                    <img style={{width: "100%"}}                         src="https://ps.sfbest.com/mapp/resource/32/32b91fb1f26b6796ba7798e5550c1b6a.jpg" alt=""/>                    <NewProduct/>                    <img id="recommend" style={{width: "100%"}}                         src="https://ps.sfbest.com/mapp/resource/32/32c5a318cbcbd1b78cb75afc08147aae.jpg" alt=""/>                    <Recommend recommend={recommend}                               loadingFlag={this.props.loadingFlag}                               hasMore={this.props.hasMore}                               getRecommendDatas={this.props.getRecommendDatas}                    />                    {                        this.state.isShow == true ? <a className='back-top' onClick={this.backTop}>回到顶部</a> :                            <a className='back-top' onClick={this.change}>为你推荐</a>                    }                </div>            </div>        )    }}export default connect(state => state.home, actions)(Home)// <HomeSlider sliders={this.props.homeImages.homeCarousel}/>//  <HomeSlider sliders={homeCarousel}/>/*{                       this.state.isShow==true? <a className='back-top' href='javascript: scroll(0, 0)'>回到顶部</a>:<a className='back-top'   onClick={()=>this.scrollToAnchor('recommend')}>为你推荐</a>                    }componentDidMount() {  // Decode entities in the URL  // Sometimes a URL like #/foo#bar will be encoded as #/foo%23bar  window.location.hash = window.decodeURIComponent(window.location.hash);  const scrollToAnchor = () => {    const hashParts = window.location.hash.split('#');    if (hashParts.length > 2) {      const hash = hashParts.slice(-1)[0];      document.querySelector(`#${hash}`).scrollIntoView();    }  };  scrollToAnchor();  window.onhashchange = scrollToAnchor;} <a className='back-top' onClick={()=>this.scrollToAnchor('recommend')}  > div{                      this.state.isShow=='true'?<i className='iconfont icon-zhiding i-top'></i>:<a className='back-top' onClick={()=>this.scrollToAnchor('recommend')}  ></a>                    }                </a> */