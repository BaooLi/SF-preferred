import React,{Component} from 'react';import './index.less'import Header from "../../component/Header/index";import {connect} from "react-redux"import actions from "../../store/actions/search"import HotSearch from "./HotSearch/index";class Search extends Component{    constructor(){        super();        this.state={searchFlag:false,keyWords:""}    }    componentDidMount(){        this.props.fetchHotSearch();    }    handleClick=()=>{        this.props.fetchSearch(this.state.keyWords);        this.input.value="";    };    handleChange=(e)=>{        let keyWords=e.target.value;        this.setState({keyWords});    };    handleKeyDown=(e)=>{        if(e.keyCode==13){            this.props.fetchSearch(this.state.keyWords);            e.target.value="";        }    };    render(){        return (            <div>                <Header push={this.props.history.push} title="搜索"/>                <div className='search'>                    <i className="iconfont icon-sousuo1"></i>                    <input placeholder='2017全球特色圣诞礼'                           value={this.state.val}                           onChange={this.handleChange}                           onKeyDown={this.handleKeyDown}                           ref={input=>this.input=input}                           type="text"/>                    <div className="search-btn" onClick={this.handleClick}>搜索</div>                </div>                  <div className="searchContent">                      <div className="searchTab">                          <span                              className={!this.state.searchFlag?"curr":""}                              onClick={                                  ()=>{this.props.fetchHotSearch();                                  this.setState({searchFlag:false})                                  }}>热门搜索</span>                          <span className={this.state.searchFlag?"curr":""}                                onClick={()=>{                                    this.props.fetchHistory();                                    this.setState({searchFlag:true})                                }} >历史记录</span>                      </div>                      <HotSearch                          fetchSearch={this.props.fetchSearch}                          searchFlag={this.state.searchFlag}                                 fetchHistory={this.props.fetchHistory}                          hotSearch={this.state.searchFlag?this.props.historical:this.props.hotSearch}/>                  </div>            </div>        )    }}export default connect(    state=>state.search,    actions)(Search);